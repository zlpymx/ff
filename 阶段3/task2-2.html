<DOCTYPE>
    <html>
     <head>
         <meta charset="utf-8">
         <title>task2-2</title>
       <style>
             span {
                display: inline-block;
                margin-right: 5px;
                padding: 15px;
                background-color: greenyellow;
            }
            button{
             margin-right: 20px;
            height: 40px;
            line-height: 20px;
            background-color: mediumseagreen;
            color: mediumvioletred;
         }
       </style>
      </head>
    <body>
              
        <input type="text" id="shu">
        <button id="left-in">左侧入</button>
        <button id="right-in">右侧入</button>
        <button id="left-out">左侧出</button>
        <button id="right-out">右侧出</button>
    
        <div id="duilie"></div>
    
    <script type="text/javascript">
    function leftIn(duilie) {
        var shu = document.getElementById("shu").value;
        if(checkInput(shu)) {
            var span = document.createElement("span")
            span.style.height = shu;
            var spanList = duilie.childNodes;
            if(spanList.length > 50) {
                alert("队列元素数量最多为50个！");
            }else {
                duilie.insertBefore(span,spanList[0]);
            }
            
        }
    }
    
    /**
     * rightIn方法
     * 点击"右侧入"，将input中输入的数字从右侧插入队列中
     */
    function rightIn(duilie) {
        var shu = document.getElementById("shu").value;
        if(checkInput(shu)) {
            var span = document.createElement("span")
            span.style.height = shu;
            var spanList = duilie.childNodes;
            if(spanList.length > 50) {
                alert("队列元素数量最多为50个！");
            }else {
                duilie.appendChild(span);
            }
        }    
    }
    
    function leftOut(duilie) {
        var childs = duilie.childNodes;
        alert(childs[0].innerHTML);
        duilie.removeChild(childs[0]);
   }

    function rightOut(duilie) {
        var childs = duilie.childNodes;
        alert(childs[childs.length-1].innerHTML);
        duilie.removeChild(childs[childs.length-1]);
    }
    
   /**
     * 输入验证
     * 输入不能为空，而且只能是实数
     */
    function checkInput(shu) {
        reg= /^-?\d+\.?\d*$/; //实数的正则表达式
        if(shu == "") {
           alert("输入不能为空！");
           return false;
       }else if(!reg.test(shu)) {
           alert("只能输入10-100内的实数！");
           return false;
       }else if(reg.test(shu) && (shu<10 || shu>100)) {
           alert("只能输入10-100内的实数！");
           return false;
       }else return true;
   }

   function emptyInput(input) {
       input.value = "";
   }

   function init() {
   
       var duilie = document.getElementById("duilie");
       var input = document.getElementById("shu");//获取表单元素
   
       document.getElementById("left-in").onclick = function() 
       {
           leftIn(duilie);
           emptyInput(input)
       };
       document.getElementById("right-in").onclick = function()
        {
           rightIn(duilie);
           emptyInput(input)
       };
       document.getElementById("left-out").onclick = function() 
       {
           leftOut(duilie);
       };
       document.getElementById("right-out").onclick = function()
        {
           rightOut(duilie);
       };

   

       document.getElementById("duilie").onclick = function( e ) {
           e = e || window.event;
           var t = e.target || e.srcElement;  //t:目标对象
           var tagName = t.tagName;　//tagName标签名称
            if( tagName == 'SPAN' ) {
               duilie.removeChild(t);　
            }
       }
   }  init();
  </script>
  </body>
  </html>